---
casestudy:
  title: 'ケーススタディ: 規制コンプライアンスを評価する'
  module: 'Module 05: Design solutions for regulatory compliance'
---

このケース スタディ演習は、このモジュールで学習した内容に関連するいくつかの概念設計タスクの実行を経験できるように設計されています。

## ケース スタディ: 規制コンプライアンスを評価する

Contoso Pharma は、北米とヨーロッパで活動する世界的な製薬会社です。 Contoso Pharma には、オンプレミスと Azure のワークロードがあります。 目標は、今後 2 年間にすべてのワークロードを Azure に完全に移行し、オンプレミスのワークロードを最小限に抑えることです。 同社の主なワークロードの一覧を次に示します。

- VM (Windows と Linux)
- ストレージ アカウント
- Key Vault
- VM 上の SQL PaaS と SQL

Contoso Pharma には、レドモンドにある本社とロンドンにあるメイン オフィスの間でサイト間 VPN も接続されています。 この VPN は、オンプレミスのリソースが通信できるようにするために使用されています。

Contoso Pharma のレドモンドのレガシ環境は、Web サーバーを実行する 2 つの Windows Server 2012 で構成され、顧客の情報を確認するためにデータベースのクエリを実行するアプリケーションによって使われています。 調査の結果、レガシ Web サーバーとデータベースの通信は HTTP 経由で行われていることがわかりました。

### 設計の要件

Contoso Pharma には、次の表に示すように、ワークロードに応じて異なるコンプライアンス ニーズがあります。

| **[ワークロード]** | **データの種類** | **コンプライアンス標準** |
|:---:|:---:|:---:|
| Windows VM | クレジット カード名義人情報 | PCI DSS |
| SQL PaaS | 患者の健康情報 | HIPAA |
| ストレージ アカウント | クレジット カード名義人情報 | PCI DSS アカウント |

これらの標準に準拠するために、Contoso Pharma は次のことができる必要があります。

- コンプライアンスの進行状況を経時的に監視する
- ワークロード所有者がそれらの標準に準拠していないリソースをプロビジョニングすることを禁止する
- 環境にデプロイされる新しいサブスクリプションが、必要な標準を既定で使用していることを確認する
- 各地理的な場所にプロビジョニングされるリソースが、データ主権のためにソース リージョンにデータを保持していることを確認する

---
 
## 1. コンプライアンスの状態を継続的に分析するためのツール  
- **Azure Policy**: 環境内のリソースが所定のコンプライアンス基準に従っているかを継続的に評価。  
  
## 2. ワークロードの所有者が必要な標準に従っているリソースのみを作成するように強制するサービス  
- **Azure Policy**: リソースのプロビジョニング時にコンプライアンス基準を強制。  
  
## 3. データが正しい地理的な場所に保持されるようにするオプション  
- **Azure Policy**: 地理的な制約を設定し、リソースのプロビジョニング時にデータが正しいリージョンに保持されるように強制。  
  
## 4. PCI DSS 準拠を検証し、修復する方法  
- **Microsoft Defender for Cloud (MDC)**: VMのセキュリティ状態を評価し、PCI DSS準拠のための推奨事項を提供。修復のためのアクションを提案。  
  
## 5. データ暗号化を適用する必要があるデータステージ  
- データは、**保存時（静止データ）** と **転送時（移動中のデータ）** の両方で暗号化する必要があります。  
  
## 6. データ暗号化を適用するために使用できる Azure サービス  
- **Azure Key Vault**: 秘密情報や暗号化キーを安全に管理。  
- **Azure Storage Service Encryption (SSE)**: ストレージアカウント内のデータを自動的に暗号化。  
- **Azure SQL Database Transparent Data Encryption (TDE)**: SQLデータベース内のデータを自動的に暗号化。  
  
