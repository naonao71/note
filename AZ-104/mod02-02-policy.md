# 管理グループ

[Azure 管理グループ](https://docs.microsoft.com/ja-jp/azure/governance/management-groups/overview)は、サブスクリプションより上のレベルのスコープを提供します。

管理グループを使うと、サブスクリプションの種類に関係なく、大きな規模でエンタープライズ レベルの管理を行うことができます。

各ディレクトリには、"ルート" 管理グループと呼ばれる 1 つの最上位管理グループがあります。 このルート管理グループは階層に組み込まれており、すべての管理グループとサブスクリプションはルート管理グループにまとめられます。ルート管理グループの表示名は Tenant root group です。 ID は Azure Active Directory ID です。

管理グループには、Azure Policy（後述）を設定できます。

管理グループのスコープにおいて、RBACロール（後述）を割り当てることができます。

注意：管理グループへのカスタムロールの割り当てが可能です。ただし:
- 現在[プレビュー](https://docs.microsoft.com/ja-jp/azure/role-based-access-control/custom-roles#custom-role-limits)の段階です。
- いくつかの[制限事項](https://docs.microsoft.com/ja-jp/azure/role-based-access-control/custom-roles#custom-role-limits)があります。

# Azure Policy

Azure Policy は、組織の標準を適用し、コンプライアンスを大規模に評価するのに役立ちます。

:bulb: 「許可されている場所」ポリシーをサブスクリプションに設定し、パラメータで「東日本リージョン」を指定すると、そのサブスクリプション以下には、東日本リージョンでしかリソースを作成できなくなります。

:bulb: ポリシーの効果としてDeny（拒否）が指定されている場合
- リソースの作成または更新時：ポリシーによって、作成または更新が拒否されます。つまり、作成・変更ができません。
- リソースがすでに存在する場合（リソースを作成してからポリシーを設定した場合）：「準拠していないリソース」としてマークされます。

# ポリシーの定義

すべてのポリシー定義に、ポリシーが適用される条件があります。 また、条件が満たされた場合に実現される効果も定義されています。

# 組み込みポリシー

既定で使うことができる組み込みポリシーがいくつかあります。

# イニシアチブ定義

ポリシー定義のコレクションです。

複数のポリシーをまとめて適用する場合に便利です。

例：クレジットカード情報および取引情報を保護するためのコンプライアンス標準として[PCI-DSS](https://ja.wikipedia.org/wiki/PCI%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%B9%E3%82%BF%E3%83%B3%E3%83%80%E3%83%BC%E3%83%89)があります。Azureでは、PCI-DSSを実現するために役立つ[イニシアチブ](https://docs.microsoft.com/ja-jp/azure/governance/blueprints/samples/pci-dss-3.2.1/) (PCI v3.2.1:2018)が利用できます。

# ポリシー/イニシアチブの割り当て

ポリシーの定義またはイニシアチブは、Azure でサポートされているリソース (管理グループ、サブスクリプション、リソース グループ、個々のリソースなど) の任意のスコープに割り当てられます。

# Azure Policyの実装

# ポリシー定義

Azure Portalで、ポリシー定義やイニシアチブ定義を検索することができます。

[GitHub](https://github.com/Azure/azure-policy/tree/master/samples)からポリシーをインポートすることができます。

# コンプライアンスの決定

[コンプライアンス] ブレードを使用して、非準拠のイニシアチブ、非準拠のポリシー、および非準拠のリソースを確認できます。

